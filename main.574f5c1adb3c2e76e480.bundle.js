(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1203:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Editor_1=__webpack_require__(1204);exports.Editor=Editor_1.Editor,exports.IAllProps=Editor_1.IAllProps},1204:function(module,exports,__webpack_require__){"use strict";var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var React=__webpack_require__(0),ScriptLoader_1=__webpack_require__(1205),TinyMCE_1=__webpack_require__(1206),Utils_1=__webpack_require__(377),EditorPropTypes_1=__webpack_require__(378),Editor=function(_super){function Editor(props){var _this=_super.call(this,props)||this;return _this.handleEditorChange=function(evt){var editor=_this.editor;if(editor){var newContent=editor.getContent({format:_this.props.outputFormat});newContent!==_this.currentContent&&(_this.currentContent=newContent,Utils_1.isFunction(_this.props.onEditorChange)&&_this.props.onEditorChange(_this.currentContent,editor))}},_this.handleInit=function(initEvent){var editor=_this.editor;editor&&(editor.setContent(_this.getInitialValue()),Utils_1.isFunction(_this.props.onEditorChange)&&editor.on("change keyup setcontent",_this.handleEditorChange),Utils_1.isFunction(_this.props.onInit)&&_this.props.onInit(initEvent,editor),Utils_1.bindHandlers(editor,_this.props,_this.boundHandlers))},_this.initialise=function(){var finalInit=__assign(__assign({},_this.props.init),{target:_this.elementRef.current,readonly:_this.props.disabled,inline:_this.inline,plugins:Utils_1.mergePlugins(_this.props.init&&_this.props.init.plugins,_this.props.plugins),toolbar:_this.props.toolbar||_this.props.init&&_this.props.init.toolbar,setup:function(editor){_this.editor=editor,editor.on("init",_this.handleInit),_this.props.init&&Utils_1.isFunction(_this.props.init.setup)&&_this.props.init.setup(editor)}});Utils_1.isTextarea(_this.elementRef.current)&&(_this.elementRef.current.style.visibility=""),TinyMCE_1.getTinymce().init(finalInit)},_this.id=_this.props.id||Utils_1.uuid("tiny-react"),_this.elementRef=React.createRef(),_this.inline=_this.props.inline?_this.props.inline:_this.props.init&&_this.props.init.inline,_this.boundHandlers={},_this}return __extends(Editor,_super),Editor.prototype.componentDidUpdate=function(prevProps){this.editor&&this.editor.initialized&&(Utils_1.bindHandlers(this.editor,this.props,this.boundHandlers),this.currentContent=this.currentContent||this.editor.getContent({format:this.props.outputFormat}),"string"==typeof this.props.value&&this.props.value!==prevProps.value&&this.props.value!==this.currentContent&&this.editor.setContent(this.props.value),"boolean"==typeof this.props.disabled&&this.props.disabled!==prevProps.disabled&&this.editor.setMode(this.props.disabled?"readonly":"design"))},Editor.prototype.componentDidMount=function(){null!==TinyMCE_1.getTinymce()?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&ScriptLoader_1.ScriptLoader.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),this.initialise)},Editor.prototype.componentWillUnmount=function(){var _this=this,editor=this.editor;null!==TinyMCE_1.getTinymce()&&editor&&(editor.off("init",this.handleInit),editor.initialized&&(editor.off("change keyup setcontent",this.handleEditorChange),Object.keys(this.boundHandlers).forEach((function(eventName){editor.off(eventName,_this.boundHandlers[eventName])})),this.boundHandlers={}),TinyMCE_1.getTinymce().remove(editor))},Editor.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},Editor.prototype.renderInline=function(){var _a=this.props.tagName,tagName=void 0===_a?"div":_a;return React.createElement(tagName,{ref:this.elementRef,id:this.id})},Editor.prototype.renderIframe=function(){return React.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},Editor.prototype.getScriptSrc=function(){if("string"==typeof this.props.tinymceScriptSrc)return this.props.tinymceScriptSrc;var channel=this.props.cloudChannel;return"https://cdn.tiny.cloud/1/"+(this.props.apiKey?this.props.apiKey:"no-api-key")+"/tinymce/"+channel+"/tinymce.min.js"},Editor.prototype.getInitialValue=function(){return"string"==typeof this.props.value?this.props.value:"string"==typeof this.props.initialValue?this.props.initialValue:""},Editor.propTypes=EditorPropTypes_1.EditorPropTypes,Editor.defaultProps={cloudChannel:"5"},Editor}(React.Component);exports.Editor=Editor},1205:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var state,Utils_1=__webpack_require__(377),createState=function(){return{listeners:[],scriptId:Utils_1.uuid("tiny-script"),scriptLoaded:!1}},ScriptLoader=(state=createState(),{load:function(doc,url,callback){state.scriptLoaded?callback():(state.listeners.push(callback),doc.getElementById(state.scriptId)||function(scriptId,doc,url,callback){var scriptTag=doc.createElement("script");scriptTag.referrerPolicy="origin",scriptTag.type="application/javascript",scriptTag.id=scriptId,scriptTag.src=url;var handler=function(){scriptTag.removeEventListener("load",handler),callback()};scriptTag.addEventListener("load",handler),doc.head&&doc.head.appendChild(scriptTag)}(state.scriptId,doc,url,(function(){state.listeners.forEach((function(fn){return fn()})),state.scriptLoaded=!0})))},reinitialize:function(){state=createState()}});exports.ScriptLoader=ScriptLoader},1206:function(module,exports,__webpack_require__){"use strict";(function(global){Object.defineProperty(exports,"__esModule",{value:!0});var getGlobal=function(){return"undefined"!=typeof window?window:global};exports.getTinymce=function(){var global=getGlobal();return global&&global.tinymce?global.tinymce:null}}).call(this,__webpack_require__(19))},377:function(module,exports,__webpack_require__){"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var EditorPropTypes_1=__webpack_require__(378);exports.isFunction=function(x){return"function"==typeof x};var isEventProp=function(name){return name in EditorPropTypes_1.eventPropTypes};exports.bindHandlers=function(editor,props,boundHandlers){(function(props){return Object.keys(props).filter(isEventProp).filter((function(name){return exports.isFunction(props[name])})).map((function(name){return{handler:props[name],eventName:name.substring(2)}}))})(props).forEach((function(found){var oldHandler=boundHandlers[found.eventName];exports.isFunction(oldHandler)&&editor.off(found.eventName,oldHandler);var newHandler=function(e){return found.handler(e,editor)};boundHandlers[found.eventName]=newHandler,editor.on(found.eventName,newHandler)}))};var unique=0;exports.uuid=function(prefix){var time=(new Date).getTime();return prefix+"_"+Math.floor(1e9*Math.random())+ ++unique+String(time)},exports.isTextarea=function(element){return null!==element&&"textarea"===element.tagName.toLowerCase()};var normalizePluginArray=function(plugins){return void 0===plugins||""===plugins?[]:Array.isArray(plugins)?plugins:plugins.split(" ")};exports.mergePlugins=function(initPlugins,inputPlugins){return normalizePluginArray(initPlugins).concat(normalizePluginArray(inputPlugins))}},378:function(module,exports,__webpack_require__){"use strict";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,"__esModule",{value:!0});var PropTypes=__webpack_require__(16);exports.eventPropTypes={onActivate:PropTypes.func,onAddUndo:PropTypes.func,onBeforeAddUndo:PropTypes.func,onBeforeExecCommand:PropTypes.func,onBeforeGetContent:PropTypes.func,onBeforeRenderUI:PropTypes.func,onBeforeSetContent:PropTypes.func,onBeforePaste:PropTypes.func,onBlur:PropTypes.func,onChange:PropTypes.func,onClearUndos:PropTypes.func,onClick:PropTypes.func,onContextMenu:PropTypes.func,onCopy:PropTypes.func,onCut:PropTypes.func,onDblclick:PropTypes.func,onDeactivate:PropTypes.func,onDirty:PropTypes.func,onDrag:PropTypes.func,onDragDrop:PropTypes.func,onDragEnd:PropTypes.func,onDragGesture:PropTypes.func,onDragOver:PropTypes.func,onDrop:PropTypes.func,onExecCommand:PropTypes.func,onFocus:PropTypes.func,onFocusIn:PropTypes.func,onFocusOut:PropTypes.func,onGetContent:PropTypes.func,onHide:PropTypes.func,onInit:PropTypes.func,onKeyDown:PropTypes.func,onKeyPress:PropTypes.func,onKeyUp:PropTypes.func,onLoadContent:PropTypes.func,onMouseDown:PropTypes.func,onMouseEnter:PropTypes.func,onMouseLeave:PropTypes.func,onMouseMove:PropTypes.func,onMouseOut:PropTypes.func,onMouseOver:PropTypes.func,onMouseUp:PropTypes.func,onNodeChange:PropTypes.func,onObjectResizeStart:PropTypes.func,onObjectResized:PropTypes.func,onObjectSelected:PropTypes.func,onPaste:PropTypes.func,onPostProcess:PropTypes.func,onPostRender:PropTypes.func,onPreProcess:PropTypes.func,onProgressState:PropTypes.func,onRedo:PropTypes.func,onRemove:PropTypes.func,onReset:PropTypes.func,onSaveContent:PropTypes.func,onSelectionChange:PropTypes.func,onSetAttrib:PropTypes.func,onSetContent:PropTypes.func,onShow:PropTypes.func,onSubmit:PropTypes.func,onUndo:PropTypes.func,onVisualAid:PropTypes.func},exports.EditorPropTypes=__assign({apiKey:PropTypes.string,id:PropTypes.string,inline:PropTypes.bool,init:PropTypes.object,initialValue:PropTypes.string,onEditorChange:PropTypes.func,outputFormat:PropTypes.oneOf(["html","text"]),value:PropTypes.string,tagName:PropTypes.string,cloudChannel:PropTypes.string,plugins:PropTypes.oneOfType([PropTypes.string,PropTypes.array]),toolbar:PropTypes.oneOfType([PropTypes.string,PropTypes.array]),disabled:PropTypes.bool,textareaName:PropTypes.string,tinymceScriptSrc:PropTypes.string},exports.eventPropTypes)},392:function(module,exports,__webpack_require__){__webpack_require__(393),__webpack_require__(536),module.exports=__webpack_require__(537)},455:function(module,exports){},537:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var _storybook_react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(234);Object(_storybook_react__WEBPACK_IMPORTED_MODULE_0__.configure)((function loadStories(){__webpack_require__(714)}),module)}.call(this,__webpack_require__(538)(module))},714:function(module,exports,__webpack_require__){"use strict";(function(module){var extendStatics,__extends=this&&this.__extends||(extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)},function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)});Object.defineProperty(exports,"__esModule",{value:!0});var addon_info_1=__webpack_require__(715),react_1=__webpack_require__(234),React=__webpack_require__(0),ts_1=__webpack_require__(1203),apiKey="qagffr3pkuv17a8on1afax661irst1hbr4e6tbv888sz91jc",sampleContent='\n<h2 style="text-align: center;">\n  TinyMCE provides a <span style="text-decoration: underline;">full-featured</span> rich text editing experience, and a featherweight download.\n</h2>\n<p style="text-align: center;">\n  <strong><span style="font-size: 14pt;"><span style="color: #7e8c8d; font-weight: 600;">No matter what you\'re building, TinyMCE has got you covered.</span></span></strong>\n</p>';addon_info_1.setDefaults({inline:!0,source:!1,propTables:!1,header:!1});var ControlledInput=function(_super){function ControlledInput(props){var _this=_super.call(this,props)||this;return _this.state={data:sampleContent},_this}return __extends(ControlledInput,_super),ControlledInput.prototype.handleChange=function(data){this.setState({data:data})},ControlledInput.prototype.render=function(){var _this=this;return React.createElement("div",null,React.createElement(ts_1.Editor,{apiKey:apiKey,init:{height:300},value:this.state.data,onEditorChange:function(e){return _this.handleChange(e)}}),React.createElement("textarea",{style:{width:"100%",height:"200px"},value:this.state.data,onChange:function(e){return _this.handleChange(e.target.value)}}))},ControlledInput}(React.Component),Disable=function(_super){function Disable(props){var _this=_super.call(this,props)||this;return _this.state={disabled:!0},_this}return __extends(Disable,_super),Disable.prototype.toggleDisabled=function(){this.setState({disabled:!this.state.disabled})},Disable.prototype.render=function(){return console.log(this.state.disabled),React.createElement("div",null,React.createElement("button",{onClick:this.toggleDisabled.bind(this)},this.state.disabled?"enable":"disable"),React.createElement(ts_1.Editor,{apiKey:apiKey,init:{height:300},initialValue:sampleContent,disabled:this.state.disabled}))},Disable}(React.Component);react_1.storiesOf("tinymce-react",module).add("Iframe editor",addon_info_1.withInfo({text:"Iframe editor."})((function(){return React.createElement(ts_1.Editor,{apiKey:apiKey,initialValue:sampleContent,init:{height:300}})}))).add("Inline editor",addon_info_1.withInfo({text:"Inline editor."})((function(){return React.createElement("div",{style:{paddingTop:"100px"}},React.createElement(ts_1.Editor,{apiKey:apiKey,initialValue:sampleContent,inline:!0}))}))).add("Controlled input",addon_info_1.withInfo({text:"Example of usage as as a controlled component."})((function(){return React.createElement(ControlledInput,null)}))).add("Disable button",addon_info_1.withInfo({text:"Example with setting the editor into readonly mode using the disabled prop."})((function(){return React.createElement(Disable,null)}))).add("cloudChannel set to 5-dev",addon_info_1.withInfo({text:"Editor with cloudChannel set to 5-dev, please make sure to reload page to load TinyMCE 5."})((function(){return React.createElement(ts_1.Editor,{apiKey:apiKey,cloudChannel:"5-dev",initialValue:sampleContent,init:{height:300}})})))}).call(this,__webpack_require__(81)(module))},718:function(module,exports,__webpack_require__){var map={"./nestedObjectAssign":341,"./nestedObjectAssign.js":341};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=718}},[[392,1,2]]]);
//# sourceMappingURL=main.574f5c1adb3c2e76e480.bundle.js.map